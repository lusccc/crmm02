import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns

# ccr-s results
# data1 = {
#     'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
#               'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
#     '2013': [0.7658, 0.7660, 0.7115, 0.8066, 0.6923, 0.7596, 0.6827, 0.7019, 0.7237, 0.7564, 0.7372, 0.7824, 0.7891,
#              0.6962, 0.6631, 0.6846],
#     '2014': [0.8457, 0.8401, 0.8198, 0.8326, 0.7702, 0.7441, 0.7076, 0.7587, 0.7321, 0.7990, 0.8277, 0.8355, 0.8535,
#              0.7457, 0.7663, 0.7616],
#     '2015': [0.8589, 0.8557, 0.8276, 0.8546, 0.7333, 0.7688, 0.7542, 0.7496, 0.7373, 0.7750, 0.8188, 0.8004, 0.8021,
#              0.8029, 0.7973, 0.8185],
#     '2016': [0.8456, 0.8367, 0.8294, 0.8304, 0.6799, 0.7780, 0.7126, 0.6850, 0.6722, 0.7664, 0.7967, 0.7995, 0.7678,
#              0.8023, 0.8147, 0.8124]
# }
#
# data2 = {
#     'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
#               'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
#     '2013': [0.8474, 0.8496, 0.8066, 0.8727, 0.7500, 0.8244, 0.6936, 0.6904, 0.7393, 0.7972, 0.8082, 0.8397, 0.8558,
#              0.7834, 0.7150, 0.8241],
#     '2014': [0.9109, 0.9140, 0.8980, 0.9116, 0.8336, 0.8492, 0.7772, 0.7508, 0.7903, 0.8533, 0.8845, 0.8911, 0.9133,
#              0.8355, 0.8351, 0.8539],
#     '2015': [0.9287, 0.9291, 0.9023, 0.9242, 0.8002, 0.8325, 0.8059, 0.7388, 0.7954, 0.8460, 0.8871, 0.8712, 0.8893,
#              0.8425, 0.8611, 0.8811],
#     '2016': [0.9067, 0.9040, 0.9029, 0.8990, 0.7568, 0.8388, 0.7998, 0.6824, 0.7538, 0.8550, 0.8665, 0.8753, 0.8487,
#              0.8698, 0.8782, 0.8814]
# }
#
# data3 = {
#     'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
#               'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
#     '2013': [0.5694, 0.5772, 0.5137, 0.6438, 0.4352, 0.5110, 0.3000, 0.3809, 0.4264, 0.5044, 0.5286, 0.6032, 0.5696,
#              0.4727, 0.3708, 0.5427],
#     '2014': [0.7042, 0.7097, 0.6802, 0.6907, 0.5735, 0.5647, 0.4726, 0.5016, 0.4625, 0.5967, 0.6702, 0.6782, 0.7130,
#              0.5394, 0.5562, 0.5944],
#     '2015': [0.7381, 0.7411, 0.6725, 0.7314, 0.5014, 0.5238, 0.5426, 0.4776, 0.4885, 0.5530, 0.6359, 0.5792, 0.6268,
#              0.6115, 0.6221, 0.6446],
#     '2016': [0.7065, 0.6959, 0.6958, 0.6851, 0.4396, 0.5497, 0.4646, 0.3647, 0.4267, 0.5802, 0.6183, 0.6164, 0.5562,
#              0.6237, 0.6517, 0.6619]
# }
#
# data4 = {
#     'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
#               'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
#     '2013': [0.6865, 0.6981, 0.7846, 0.7692, 0.4538, 0.6615, 0.4538, 0.6215, 0.5308, 0.5846, 0.5615, 0.6208, 0.6508,
#              0.6985, 0.6231, 0.3046],
#     '2014': [0.7704, 0.8282, 0.7801, 0.8206, 0.5613, 0.4645, 0.4129, 0.7090, 0.5981, 0.6839, 0.7806, 0.7458, 0.7768,
#              0.6819, 0.7594, 0.5671],
#     '2015': [0.8103, 0.8025, 0.7454, 0.8613, 0.5470, 0.5635, 0.5359, 0.6950, 0.6652, 0.6796, 0.7017, 0.6961, 0.7072,
#              0.7691, 0.7707, 0.7564],
#     '2016': [0.8615, 0.8377, 0.8510, 0.8580, 0.7965, 0.8442, 0.6537, 0.7160, 0.7013, 0.7792, 0.7792, 0.8009, 0.7775,
#              0.8268, 0.8407, 0.8468]
# }
#
# data5 = {
#     'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
#               'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
#     '2013': [0.8223, 0.8146, 0.6593, 0.8333, 0.8626, 0.8297, 0.8462, 0.7593, 0.8615, 0.8791, 0.8626, 0.8978, 0.8879,
#              0.6945, 0.6918, 0.9560],
#     '2014': [0.8969, 0.8481, 0.8468, 0.8408, 0.9123, 0.9342, 0.9079, 0.7925, 0.8232, 0.8772, 0.8596, 0.8965, 0.9057,
#              0.7890, 0.7711, 0.8939],
#     '2015': [0.8882, 0.8880, 0.8774, 0.8505, 0.8462, 0.8930, 0.8863, 0.7826, 0.7809, 0.8328, 0.8896, 0.8635, 0.8595,
#              0.8234, 0.8134, 0.8562],
#     '2016': [0.8270, 0.8357, 0.8041, 0.7980, 0.5431, 0.7005, 0.7817, 0.6487, 0.6381, 0.7513, 0.8173, 0.7980, 0.7563,
#              0.7736, 0.7843, 0.7721]
# }

# ccr-l results
data1 = {
    'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
              'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
    '2013': [0.8833, 0.8862, 0.8792, 0.8844, 0.8010, 0.8068, 0.7888, 0.7421, 0.6901, 0.7851, 0.8753, 0.8683, 0.8723,
             0.8464, 0.8650, 0.8797],
    '2014': [0.9300, 0.9260, 0.9265, 0.9295, 0.8153, 0.8410, 0.8323, 0.7944, 0.7752, 0.8184, 0.8807, 0.8548, 0.8705,
             0.9253, 0.9256, 0.9269],
    '2015': [0.9199, 0.9204, 0.9197, 0.9186, 0.7769, 0.8089, 0.8351, 0.7781, 0.7842, 0.8021, 0.8758, 0.8318, 0.8328,
             0.9105, 0.9180, 0.9149],
    '2016': [0.9118, 0.9064, 0.9013, 0.9006, 0.7487, 0.8062, 0.8215, 0.7190, 0.7378, 0.7487, 0.8133, 0.7781, 0.7878,
             0.8645, 0.8887, 0.8791]
}

data2 = {
    'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
              'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
    '2013': [0.9411, 0.9451, 0.9366, 0.9410, 0.8496, 0.8792, 0.8015, 0.7186, 0.6835, 0.7545, 0.9228, 0.8943, 0.9317,
             0.9000, 0.9285, 0.9377],
    '2014': [0.9664, 0.9648, 0.9675, 0.9598, 0.8369, 0.8981, 0.8797, 0.7701, 0.7913, 0.7989, 0.9278, 0.9145, 0.9338,
             0.9597, 0.9639, 0.9655],
    '2015': [0.9540, 0.9536, 0.9632, 0.9461, 0.8124, 0.8645, 0.8799, 0.7454, 0.8114, 0.7750, 0.9275, 0.8875, 0.9052,
             0.9486, 0.9598, 0.9586],
    '2016': [0.9581, 0.9617, 0.9660, 0.9533, 0.7941, 0.8585, 0.8810, 0.7215, 0.7845, 0.8341, 0.8963, 0.8644, 0.8838,
             0.9264, 0.9573, 0.9387]
}

data3 = {
    'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
              'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
    '2013': [0.7600, 0.7722, 0.7608, 0.7694, 0.5764, 0.6152, 0.4903, 0.4366, 0.3812, 0.5302, 0.7360, 0.7064, 0.7275,
             0.6923, 0.7476, 0.7777],
    '2014': [0.8664, 0.8714, 0.8648, 0.8543, 0.5662, 0.6648, 0.6354, 0.5438, 0.5279, 0.5705, 0.7164, 0.6944, 0.7241,
             0.8453, 0.8572, 0.8691],
    '2015': [0.8283, 0.8301, 0.8299, 0.8307, 0.4852, 0.5933, 0.6840, 0.4895, 0.5234, 0.4955, 0.7365, 0.6296, 0.6555,
             0.8139, 0.8319, 0.8247],
    '2016': [0.8269, 0.8198, 0.8177, 0.8143, 0.4928, 0.6090, 0.6322, 0.4400, 0.5037, 0.5345, 0.6400, 0.5819, 0.6025,
             0.7585, 0.7943, 0.7733]
}
data4 = {
    'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
              'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
    '2013': [0.7916, 0.7966, 0.8259, 0.8329, 0.5756, 0.5378, 0.5315, 0.6424, 0.5935, 0.6492, 0.7647, 0.8015, 0.7987,
             0.7777, 0.8244, 0.8239],
    '2014': [0.8909, 0.8715, 0.8847, 0.8986, 0.5859, 0.6448, 0.6296, 0.7140, 0.6084, 0.6515, 0.7458, 0.6923, 0.7372,
             0.8754, 0.8797, 0.8697],
    '2015': [0.8682, 0.8699, 0.8817, 0.8871, 0.4884, 0.6379, 0.6918, 0.6492, 0.5558, 0.5855, 0.7381, 0.6780, 0.7128,
             0.8615, 0.8786, 0.8593],
    '2016': [0.8899, 0.8822, 0.8843, 0.9048, 0.6898, 0.7569, 0.7685, 0.6766, 0.6796, 0.7616, 0.8125, 0.7731, 0.7588,
             0.8433, 0.8509, 0.8565]
}

data5 = {
    'Model': ['CMML', 'CMML-NoSA', 'CMML-NoCS', 'CMML-NoMLP', 'LogR', 'SVM', 'KNN', 'DT', 'MLP', 'Adaboost', 'XGBoost',
              'GBDT', 'RF', 'GATE', 'TabTransformer', 'AutoInt'],
    '2013': [0.9313, 0.9330, 0.9071, 0.9113, 0.9188, 0.9473, 0.9232, 0.7942, 0.7405, 0.8562, 0.9330, 0.9032, 0.9108,
             0.8823, 0.8862, 0.9089],
    '2014': [0.9473, 0.9500, 0.9449, 0.9431, 0.9163, 0.9274, 0.9215, 0.8299, 0.8485, 0.8919, 0.9400, 0.9264, 0.9291,
             0.9472, 0.9458, 0.9520],
    '2015': [0.9456, 0.9435, 0.9372, 0.9330, 0.9094, 0.8875, 0.9009, 0.8374, 0.8891, 0.9016, 0.9391, 0.9024, 0.8879,
             0.9330, 0.9361, 0.9404],
    '2016': [0.9292, 0.9257, 0.9148, 0.8973, 0.7956, 0.8453, 0.8637, 0.7527, 0.7842, 0.7385, 0.8140, 0.7820, 0.8109,
             0.8814, 0.9188, 0.8971]
}

# 将数据转换为DataFrame
df1 = pd.DataFrame(data1).set_index('Model')
df2 = pd.DataFrame(data2).set_index('Model')
df3 = pd.DataFrame(data3).set_index('Model')
df4 = pd.DataFrame(data4).set_index('Model')
df5 = pd.DataFrame(data5).set_index('Model')

# 创建一个包含5个子图的图形
fig, axs = plt.subplots(1, 5, figsize=(28, 4),
                        # gridspec_kw={'width_ratios': [1, 1, 1, 1, 1.1]}
                        )

# 绘制每个子图的热力图
sns.heatmap(df1, annot=True, cmap='YlGnBu', fmt='.4f', cbar=True, ax=axs[0])
axs[0].set_title('(a) ACC', y=-0.2)
axs[0].set_ylabel('')

sns.heatmap(df2, annot=True, cmap='YlGnBu', fmt='.4f', cbar=True, ax=axs[1])
axs[1].set_title('(b) AUC', y=-0.2)
axs[1].set_ylabel('')

sns.heatmap(df3, annot=True, cmap='YlGnBu', fmt='.4f', cbar=True, ax=axs[2])
axs[2].set_title('(c) KS', y=-0.2)
axs[2].set_ylabel('')

sns.heatmap(df4, annot=True, cmap='YlGnBu', fmt='.4f', cbar=True, ax=axs[3])
axs[3].set_title('(d) Type1-ACC', y=-0.2)
axs[3].set_ylabel('')

sns.heatmap(df5, annot=True, cmap='YlGnBu', fmt='.4f', cbar=True, ax=axs[4])
axs[4].set_title('(e) Type2-ACC', y=-0.2)
axs[4].set_ylabel('')

# # 获取最后一个子图的颜色条(colorbar)
# cbar = axs[4].collections[0].colorbar
#
# # 将颜色条的刻度替换为'Low'和'High'
# cbar.set_ticks([])
# cbar.set_label('Low                          High')

# 调整子图之间的间距
plt.tight_layout()

# 显示图形
plt.show()
